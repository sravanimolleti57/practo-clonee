"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5916],{84814:function(e,t,a){a.d(t,{v:function(){return c}});var n=a(97458),l=a(76005),r=a(72190),s=a(16330),o=a(9731),i=a(52983);const c=e=>{let{date:t}=e;const[a,c]=(0,i.useState)(""),u=(0,i.useCallback)((()=>{const e=new Date(t);(0,l.z)(e)?c("today"):(0,r.g)(e)?c("yesterday"):(0,s.X)(e)?c("".concat((0,o.WU)(e,"d MMM"))):c("".concat((0,o.WU)(e,"yy/M/d")))}),[t]);return(0,i.useEffect)((()=>{u()}),[u]),(0,n.jsx)("span",{children:a})}},20160:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(97458);a(52983);const l=e=>{let{additionalClasses:t,children:a}=e;return(0,n.jsx)("div",{className:"border bg-white border-gray-100 rounded-md ".concat(t),children:a})}},66829:function(e,t,a){a.d(t,{K:function(){return k}});var n=a(97458),l=a(90077),r=a.n(l),s=a(52983),o=a(59271),i=a(20516),c=a(63717),u=a(66072),d=a(31401),m=a(61266),h=a(79332),p=a(69331),f=a(83849),x=a.n(f);const b=r()((async()=>a.e(8033).then(a.bind(a,28033))),{loadableGenerated:{webpack:()=>[28033]},ssr:!1}),v=e=>{let{animation:t,backgroundColor:a,hasPlayerError:l,hasThumbnailError:r,isCreator:s,isHovered:o,onPlayerError:i,onThumbnailError:d,playerRef:m,playerRefCallback:h,thumbnailSrc:p,title:f,url:b}=e;const v=t.fileObject.attributes.formatVersion;var k;return(0,c.m$)(m,i),(0,n.jsx)("div",{className:x()("relative z-0 w-full h-full rounded select-none",{"bg-subtle":!a}),style:{...a?{backgroundColor:a}:{}},children:(0,n.jsx)(u._,{workspaceId:t.project.workspaceId,hasPlayerError:l,dotLottieFormatVersion:v,isCreator:s,isHovered:o,animationSrc:b,playerRefCallback:h,thumbnailSrc:p,onThumbnailError:d,alt:f,renderer:t.currentVersion.renderer,hasThumbnailError:r,rendererOverride:null!==(k=t.rendererOverride)&&void 0!==k?k:null})})},k=e=>{let{animation:t,backgroundColor:a=null,disableMenu:l=!1,hrefPrefix:r,onSelectionChange:u,scopes:f,searchParams:x,selectable:k=!1,selected:j=!1,selectionMode:g=!1,showAddToCollectionMenuItem:w=!1,showStatus:C=!0,showUpdatedUser:y=!0,thumbnail:N,title:S,upgradeRequired:I,url:M}=e;var T,A;const[P,R]=(0,s.useState)(!1),{canFullAccess:E}=(0,i.a)({scopes:f||[]}),[D,O]=(0,s.useState)(!1),[U,_]=(0,s.useState)(!1),[H,W]=(0,s.useState)(!1),[q,F]=(0,c.Rm)(),K=(0,s.useMemo)((()=>(0,o.xK)(t)),[t]),B=(0,s.useCallback)((()=>{null==q||q.play(),R(!0)}),[q,R]),V=(0,s.useCallback)((()=>{null==q||q.pause(),R(!1)}),[q,R]),Z=(0,s.useCallback)((()=>{O(!1)}),[]),z=(0,s.useCallback)((()=>{_(!0)}),[]),L=(0,s.useCallback)((()=>{W(!0)}),[]),G=(0,s.useCallback)((()=>{E()&&O(!0)}),[E]),X=Boolean(t.currentVersion.communityAnimationId),$=Boolean(t.isSystemUploaded&&1===t.currentVersion.versionNumber),Q=(0,s.useMemo)((()=>X||$?(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[X&&!$&&(0,n.jsx)(d.u,{placement:"right",fullMaxWidth:!0,title:(0,n.jsxs)(n.Fragment,{children:["Saved from free community animation",(0,n.jsx)("br",{}),"library"]}),children:(0,n.jsx)(m.oul,{className:"text-gray-500",width:16,height:16})}),$&&(0,n.jsx)(d.u,{title:"Sample animation",placement:"right",children:(0,n.jsx)("span",{className:"flex justify-center items-center px-3 py-px text-xs font-medium leading-normal text-center rounded-full text-text-primary bg-foreground-2",children:"Sample"})})]}):null),[X,$]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onMouseEnter:B,onMouseLeave:V,children:(0,n.jsx)(h.H,{file:t,hrefPrefix:r,searchParams:x,onRename:G,onSelectionChange:u,selectable:k,selected:j,selectionMode:g,showStatus:C,showUpdatedUser:y,showAddToCollectionMenuItem:w,disableMenu:l,upgradeRequired:I,typeTag:Q,icon:(0,n.jsx)(p.$,{isAnimation:(0,o.QR)(t),isCreator:K,themeCount:null===(A=t.fileObject)||void 0===A||null===(T=A.themes)||void 0===T?void 0:T.length,showFilledIcon:P,sizeClassName:"w-6 h-6 -ml-1"}),children:(0,n.jsx)(v,{animation:t,backgroundColor:a,isCreator:K,isHovered:P,hasThumbnailError:U,hasPlayerError:H,title:S,thumbnailSrc:N,url:M,playerRefCallback:F,playerRef:q,onPlayerError:L,onThumbnailError:z})})}),(0,n.jsx)(b,{show:D,animationId:t.id,animationName:t.name,close:Z})]})}},79332:function(e,t,a){a.d(t,{H:function(){return S}});var n=a(97458),l=a(83849),r=a.n(l),s=a(80731),o=a.n(s),i=a(52983),c=a(59271),u=a(17216),d=a(20516),m=a(29389),h=a(58826),p=a(97335),f=a(30631),x=a(84867),b=a(80794),v=a(69826),k=a(25675),j=a(95931),g=a(14430),w=a(75665),C=a(42740);const y=e=>{let{animationId:t,animationStatus:a,featureService:l,projectId:s,workspaceId:o,isHovered:c=!1,source:u=p.qI.ANIMATION_CARD_DROPDOWN}=e;const[d,m]=(0,i.useState)(!1),[,h]=(0,b.Db)(k.v3),f=(0,C.p)(),y=(0,i.useMemo)((()=>w.W.map((e=>({...e,selected:!1})))),[]),N=(0,i.useCallback)((async e=>{(await h({id:t,status:e})).error||null==f||f.pushSuccess("Status updated"),(0,v.Z9i)(new v.Ykq({fileId:t,oldStatus:a,newStatus:e,projectId:s,workspaceId:o,source:u}))}),[h,t,a,s,o,f,u]),S=(0,i.useMemo)((()=>y.find((e=>e.value===a))||y[y.length-1]),[a,y]),I=c||d;return a?(0,n.jsxs)(j.f,{onOpenChange:m,children:[(0,n.jsx)(j.f.Trigger,{asChild:!0,children:(0,n.jsxs)("div",{className:r()("flex rounded gap-2 items-center px-2 h-6 transition-all duration-200 cursor-pointer",{"shadow-dropdown hover:bg-gray-100":I,"bg-subtle":!d&&I,"bg-gray-100":d&&I}),children:[null==S?void 0:S.icon,(0,n.jsx)("p",{className:r()("text-xs text-secondary leading-[18px]",{invisible:!I}),children:null==S?void 0:S.label})]})}),(0,n.jsx)(j.f.Content,{sideOffset:8,alignOffset:0,side:"bottom",align:"start",children:y.map((e=>(0,n.jsxs)(j.f.Item,{onSelect:async t=>{t.stopPropagation(),l.canUpdateAnimationStatus()?await N("NoStatus"===e.value?null:e.value):(0,g.Z)({source:x.Hh.UPDATE_ANIMATION_STATUS,workspaceId:o})},children:[(0,n.jsx)("span",{className:"mr-2",children:e.icon}),(0,n.jsx)("span",{children:e.label})]},e.value)))})]}):null};var N=a(84569);const S=e=>{let{children:t,disableMenu:a=!1,file:l,hrefPrefix:s,icon:x,onRename:b,onSelectionChange:v,searchParams:k,selectable:j=!1,selected:g=!1,selectionMode:w=!1,showAddToCollectionMenuItem:C=!1,showStatus:S=!0,showUpdatedUser:I=!0,typeTag:M,upgradeRequired:T=!1}=e;const[A,P]=(0,i.useState)(!1),R=(0,i.useRef)(null),E=(0,i.useMemo)((()=>(0,f.mW)({file:l,prefix:s,searchParams:k})),[l,s,k]),D=(0,i.useMemo)((()=>(0,c.xK)(l)),[l]),O=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),null==v||v()}),[v]),U=(0,i.useCallback)((e=>{w&&(e.preventDefault(),e.stopPropagation(),null==v||v())}),[v,w]),_=(0,i.useCallback)((e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),null==v||v())}),[v]),H=(0,i.useCallback)((()=>{null==v||v()}),[v]),W=(0,i.useCallback)((()=>{P(!0)}),[P]),q=(0,i.useCallback)((()=>{P(!1)}),[P]),F=(0,i.useCallback)((e=>{e.stopPropagation()}),[]),K=(0,i.useCallback)((()=>{var e;w&&v?v():null===(e=R.current)||void 0===e||e.click()}),[w,v]),B=(0,i.useCallback)((()=>{b&&b()}),[b]),V=(0,h.h)(K,B),Z=(0,i.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),V(e)}),[V]),{canFullAccess:z}=(0,d.a)({scopes:l.animationPermissionScopes||[]}),L=(0,m.sZ)(l.project.workspaceId);return(0,n.jsxs)(o(),{ref:R,href:E,target:D?"_blank":void 0,className:r()('block overflow-hidden relative w-full bg-white rounded-md transition duration-100 ease-out outline group before:block before:content[""] before:pt-[100%]',{"outline-1 outline-subtle hover:outline-medium":!g,"outline-2 outline-primary":g,"opacity-30":T}),onClick:U,onMouseEnter:W,onMouseLeave:q,children:[(0,n.jsxs)("div",{className:"flex absolute inset-0 flex-col gap-2 p-2",children:[(0,n.jsxs)("div",{className:"w-full h-[calc(100%-45px)] relative",children:[(0,n.jsxs)("div",{className:"flex relative justify-center items-center mx-auto h-full",children:[t,M&&(0,n.jsx)("div",{className:"flex absolute top-1 right-1 flex-shrink-0 justify-center items-center",children:M})]}),S&&l.status&&(0,n.jsx)("div",{className:"flex absolute bottom-1 left-1 justify-center items-center",onClick:F,children:(0,n.jsx)(y,{source:p.qI.ANIMATION_CARD_DROPDOWN,featureService:L,animationId:l.id,animationStatus:l.status,projectId:l.project.id,workspaceId:l.project.workspaceId,isHovered:A})})]}),(0,n.jsx)(N.y,{file:l,icon:x,isHovered:A,onTitleClick:b&&Z,showUpdatedUser:I,showAddToCollectionMenuItem:C,disableMenu:a})]}),(A&&j||g||w)&&z()&&(0,n.jsx)("div",{role:"button",tabIndex:0,onClick:O,onKeyDown:_,"aria-label":"Select ".concat(l.name),className:"flex absolute top-0 left-0 justify-center items-center w-6 h-6",children:(0,n.jsx)(u.X,{label:"check-card",checked:g,onChange:H})})]})}},84569:function(e,t,a){a.d(t,{y:function(){return m}});var n=a(97458),l=a(83849),r=a.n(l),s=a(52983),o=a(97335),i=a(90077),c=a.n(i),u=a(84814);const d=c()((async()=>(await Promise.all([a.e(8365),a.e(1109),a.e(1825),a.e(5280),a.e(7761),a.e(8121),a.e(1250),a.e(3257),a.e(9670)]).then(a.bind(a,49246))).AnimationKebabMenu),{loadableGenerated:{webpack:()=>[49246]},ssr:!1}),m=e=>{let{disableMenu:t=!1,file:a,icon:l,isHovered:i=!1,onTitleClick:c,showAddToCollectionMenuItem:m=!1,showUpdatedUser:h=!1}=e;var p,f,x;const b=a.modifiedBy?"".concat(null===(p=a.modifiedBy)||void 0===p?void 0:p.firstName):"".concat(null===(f=a.createdBy)||void 0===f?void 0:f.firstName),v=(0,s.useCallback)((e=>{e.stopPropagation()}),[]),k=(0,s.useCallback)((e=>{"Enter"!==e.key&&" "!==e.key&&"Space"!==e.key||e.stopPropagation()}),[]);return(0,n.jsxs)("div",{className:"flex relative w-full self-stretch items-center gap-1.5",children:[l,(0,n.jsxs)("div",{className:r()("flex flex-col flex-1 items-start min-w-0",{"max-w-[calc(100%-24px)]":!i||t,"max-w-[calc(100%-54px)]":i&&!t}),children:[c?(0,n.jsx)("button",{type:"button",onClickCapture:c,className:"min-w-0 max-w-full text-left text-sm font-normal leading-normal tracking-[-0.28px] text-primary truncate",title:a.name,children:a.name}):(0,n.jsx)("div",{className:"min-w-0 max-w-full text-sm font-normal leading-normal tracking-[-0.28px] text-primary truncate",title:a.name,children:a.name}),(0,n.jsxs)("div",{className:"flex space-x-1 text-xs leading-normal tracking-[-0.24px] text-placeholder -mt-0.5 min-w-0 max-w-full",children:[h?(0,n.jsx)("span",{className:"min-w-0 truncate",children:"Modified by ".concat(b,", ")}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"min-w-0 truncate",children:"in ".concat(null===(x=a.project)||void 0===x?void 0:x.title)}),(0,n.jsx)("span",{children:"â€¢"})]}),(0,n.jsxs)("span",{className:"flex-shrink-0",children:[!h&&(0,n.jsx)("span",{children:"Modified "}),(0,n.jsx)(u.v,{date:a.updatedAt})]})]})]}),!t&&(0,n.jsx)("div",{className:"flex absolute top-0 right-0 bottom-0 justify-center items-center",onClick:v,onKeyDown:k,onMouseDown:v,role:"button",tabIndex:0,children:(0,n.jsx)(d,{animation:a,show:i,showAddToCollection:m,source:o.qI.ANIMATION_CARD_DROPDOWN})})]})}},58826:function(e,t,a){a.d(t,{h:function(){return l}});var n=a(52983);const l=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;const l=(0,n.useRef)(0),r=(0,n.useRef)(null);return(0,n.useEffect)((()=>()=>{null!==r&&(clearTimeout(r.current),r.current=null)}),[]),(0,n.useCallback)((n=>{if(null!==r.current&&(clearTimeout(r.current),r.current=null),l.current+=1,2===l.current)return t(n),void(l.current=0);r.current=setTimeout((()=>{e(n),l.current=0,r.current=null}),a)}),[e,t,a])}}}]);