(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5186,6788,1744,2059],{114:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collection",function(){return s(86492)}])},15817:function(e,l,s){"use strict";s.d(l,{y:function(){return d}});var n=s(97458),i=s(83849),t=s.n(i),a=s(52983),o=s(68250);const r=()=>(0,n.jsx)("svg",{width:"69",height:"62",viewBox:"0 0 69 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M63.3649 0C44.1908 0 37.1133 13.67 31.4118 24.6557L27.6841 31.6768C21.6386 43.3279 17.127 50.4054 5.49847 50.4054C4.7762 50.4047 4.06089 50.5464 3.39345 50.8224C2.72601 51.0985 2.11955 51.5035 1.60882 52.0142C1.09809 52.5249 0.693103 53.1314 0.417042 53.7988C0.140981 54.4663 -0.000739042 55.1816 2.89816e-06 55.9039V55.9039C-0.000739042 56.6261 0.140981 57.3414 0.417042 58.0089C0.693103 58.6763 1.09809 59.2828 1.60882 59.7935C2.11955 60.3042 2.72601 60.7092 3.39345 60.9853C4.06089 61.2614 4.7762 61.4031 5.49847 61.4023V61.4023C24.6726 61.4023 31.7445 47.7323 37.4517 36.7466L41.1737 29.7256C47.2248 18.0744 51.7364 10.9969 63.3649 10.9969C64.8232 10.9969 66.2218 10.4176 67.2529 9.38647C68.2841 8.35531 68.8634 6.95676 68.8634 5.49847V5.49847C68.8634 4.04019 68.2841 2.64163 67.2529 1.61047C66.2218 0.579304 64.8232 0 63.3649 0V0Z",fill:"#D9E0E6"})}),d=e=>{let{alt:l,hasError:s=!1,lazy:i=!1,onError:d,src:c}=e;const[u,x]=(0,a.useState)(!0),m=(0,a.useCallback)((()=>{x(!1)}),[]),h=(0,a.useCallback)((()=>{null==d||d(),m()}),[d,m]);return(0,n.jsxs)(n.Fragment,{children:[!s&&u&&c&&(0,n.jsx)(o.a,{type:"spinner",size:"sm"}),!s&&c?(0,n.jsx)("img",{role:"presentation",src:c,alt:l,className:t()("w-full h-full object-contain",{hidden:u}),loading:i?"lazy":"eager",onError:h,onLoad:m}):(0,n.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 [&>svg]:w-full",children:(0,n.jsx)(r,{})})]})}},36788:function(e,l,s){"use strict";s.d(l,{S:function(){return t}});var n,i=s(52983);!function(e){e.FULL_ACCESS="full_access",e.VIEW="view"}(n||(n={}));const t=e=>{let{scopes:l}=e;return{hasUpdateAccess:(0,i.useCallback)((()=>Boolean(null==l?void 0:l.includes(n.FULL_ACCESS))),[l])}}},86492:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return Y}});var n=s(97458),i=s(13787),t=s(17352),a=s(52983);const o=e=>{let{items:l,view:s}=e;return"grid"===s?(0,n.jsx)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7 5xl:grid-cols-8 6xl:grid-cols-12",children:Array.from({length:l}).map(((e,l)=>(0,n.jsx)("div",{className:"aspect-square",children:(0,n.jsx)(t.J,{className:"rounded-md"})},"skeleton-".concat(l+1))))}):"list"===s?(0,n.jsx)("div",{className:"flex flex-col gap-4",children:Array.from({length:l}).map(((e,l)=>(0,n.jsx)("div",{className:"h-[40px]",children:(0,n.jsx)(t.J,{className:"rounded-md"})},"skeleton-".concat(l+1))))}):null};var r=s(69775),d=s(44818),c=s(69826),u=s(86289),x=s(98532),m=s(50885),h=s(30593);const f=[{label:"Last modified",value:"last-modified"},{label:"Newest",value:"newest"},{label:"Oldest",value:"oldest"},{label:"A - Z",value:"a-z"}],g=e=>{let{onCreateClick:l,setViewLayout:s,viewLayout:i}=e;const{user:t}=(0,d.a)(),{isEditor:o}=(0,h.N)(),g=(0,a.useCallback)((()=>{(0,c.Z9i)(new c.rR5({userId:null==t?void 0:t.id,view:"grid"===i?"list":"grid"})),s("grid"===i?"list":"grid")}),[s,i,null==t?void 0:t.id]);return(0,n.jsxs)("div",{className:"flex flex-col space-y-7 w-full",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-2xl text-gray-900 font-arboria",children:"Collections"}),o&&(0,n.jsx)(u.z,{variant:"primary",className:"w-40",icon:"plus",iconSize:"small",onClick:l,children:(0,n.jsx)("span",{className:"flex gap-2 items-center",children:"Collection"})})]}),(0,n.jsxs)(r.o,{stretch:!0,children:[(0,n.jsx)(m.j,{sortKey:"collection",commonSorts:f}),(0,n.jsx)(x.h,{name:"list"===i?"grid-view":"list-view",darker:!0,noFocus:!0,onClick:g,medium:!0},i)]})]})};var p=s(67240),v=s(91196),j=s(88317),C=s(20953),w=s(70776),y=s(10400),N=s(84867),b=s(45186),M=s.n(b),L=s(68250),k=s(57157),E=s(9731),O=s(80731),_=s.n(O),F=s(15817),S=s(83849),A=s.n(S);function I(e){let{additionalClasses:l,alt:s,url:i}=e;return(0,n.jsx)("div",{className:A()("overflow-hidden relative rounded-md border border-gray-100",l),children:(0,n.jsx)(F.y,{src:i,alt:s})})}function V(e){let{alt:l,itemsCount:s,thumbnails:i}=e;return 0===i.length?(0,n.jsx)("div",{className:"relative flex-1 overflow-hidden",children:(0,n.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,n.jsx)("img",{src:"/images/empty-states/empty-folder-thumbnail.svg",className:"opacity-40",width:"130",alt:"Empty Collection"})})}):1===i.length?(0,n.jsx)(I,{additionalClasses:"flex-1",url:null!==(t=i[0])&&void 0!==t?t:"",alt:l}):2===i.length?(0,n.jsxs)("div",{className:"flex flex-1 gap-2",children:[(0,n.jsx)(I,{additionalClasses:"flex-1",url:null!==(a=i[0])&&void 0!==a?a:"",alt:l}),(0,n.jsx)(I,{additionalClasses:"flex-1",url:null!==(o=i[1])&&void 0!==o?o:"",alt:l})]}):(0,n.jsxs)("div",{className:"flex flex-1 gap-2 overflow-hidden",children:[(0,n.jsx)(I,{additionalClasses:"flex-1",url:null!==(r=i[0])&&void 0!==r?r:"",alt:l}),(0,n.jsxs)("div",{className:"flex flex-col flex-1 gap-2",children:[(0,n.jsx)(I,{additionalClasses:"flex-1",url:null!==(d=i[1])&&void 0!==d?d:"",alt:l}),s>3?(0,n.jsx)("div",{className:"bg-[#F8FAFC] text-[#8795A1] flex-1 rounded-md text-lg flex items-center justify-center",children:"+".concat(s-2)}):(0,n.jsx)(I,{additionalClasses:"flex-1",url:null!==(c=i[2])&&void 0!==c?c:"",alt:l})]})]});var t,a,o,r,d,c}var W=s(34557),z=s(84153);function B(e){let{collection:l,hoverClasses:s,optionsMenuOpen:i,setOptionsMenuOpen:t}=e;return(0,n.jsx)("div",{className:"flex justify-end flex-1",children:(0,n.jsx)(W.X,{children:(0,n.jsx)(z.default,{isHovered:!0,collection:l,onOpenChange:t,navigateToHomeAfterDelete:!1,source:"index page",children:(0,n.jsx)(x.h,{tooltip:"Rename, permission, and more...",tooltipDisabled:i,tooltipPlacement:"top",name:"meatball-menu",className:"text-gray-600",roundedClass:"rounded",hoverBackgroundClass:A()("hover:bg-gray-100",{"bg-gray-50":i},s),small:!0,testId:"collection-options-button"})})})})}var P=s(31401),U=s(61266);function D(e){let{collection:l}=e;const s=(0,a.useMemo)((()=>(0,E.WU)(new Date(l.updatedAt),"d MMM")),[l.updatedAt]),[i,t]=(0,a.useState)(!1),[o,r]=(0,a.useState)(!1),d=(0,a.useMemo)((()=>{var e;return null!==(e=l.collectionThumbnailUrls)&&void 0!==e?e:[]}),[l.collectionThumbnailUrls]),c=(0,a.useCallback)((()=>{t(!0)}),[]),u=(0,a.useCallback)((()=>{t(!1)}),[]);var x;return(0,n.jsx)(_(),{href:"/collection/".concat(l.id),children:(0,n.jsxs)("div",{className:"flex flex-col gap-1 p-3 bg-white border-gray-100 rounded-md border-3 aspect-square",onMouseEnter:c,onMouseLeave:u,children:[(0,n.jsx)(V,{thumbnails:d,alt:l.name,itemsCount:l.files.length}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[l.isPrivate&&(0,n.jsx)(P.u,{placement:"bottom",className:"-ml-0.5",title:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Only people who are invited"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:"can view and edit this collection"})]}),children:(0,n.jsx)(U.dvY,{width:16,className:"text-gray-900"})}),(0,n.jsx)("h2",{className:"text-sm text-gray-900 line-clamp-1",children:l.name})]}),(0,n.jsxs)("p",{className:"text-xs text-gray-400 line-clamp-1",children:[null!==(x=l.files.length)&&void 0!==x?x:0," items  •  Modified ",s]})]}),(0,n.jsx)("div",{className:A()({hidden:!i&&!o}),children:(0,n.jsx)(B,{collection:l,optionsMenuOpen:o,setOptionsMenuOpen:r,hoverClasses:"hover:bg-gray-50"})})]})]})})}function T(e){let{canLoadMore:l,collections:s,isLoadingMore:i,onLoadMore:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7 5xl:grid-cols-8 6xl:grid-cols-12",children:[s.edges.map((e=>(0,n.jsx)(D,{collection:e.node},e.node.id))),i&&(0,n.jsx)(L.a,{type:"spinner"})]}),l&&(0,n.jsx)(k.Q,{className:"col-span-full",onLoadMore:t,loadingMore:i})]})}var R=s(76558),Z=s(68363);const q=[{field:"name",use:"Name",width:30},{field:"items",use:"Items",width:10},{field:"lastModified",use:"Last modified",width:30},{field:"createdBy",use:"Created by",width:20,locked:!0},{field:"option",use:"",width:10}];function X(e){let{column:l,displayValue:s,row:i}=e;const[t,o]=(0,a.useState)(!1);return"name"===l.field?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-900 truncate",children:[(0,n.jsx)("div",{className:"xs:py-[10px]",children:null==i?void 0:i.icon}),(0,n.jsx)("span",{className:"truncate",children:null==i?void 0:i.name})]}):"option"===l.field?(0,n.jsx)(B,{collection:null==i?void 0:i.collection,optionsMenuOpen:t,setOptionsMenuOpen:o}):(0,n.jsx)("div",{className:"text-sm text-gray-900",children:s})}const H=(e,l,s)=>(0,n.jsx)(X,{row:e,column:l,displayValue:s});function J(e){let{canLoadMore:l,collections:s,isLoadingMore:i,onLoadMore:t}=e;const[o,r]=(0,v._)("collections-resizable-list-column-state",q),d=(0,a.useCallback)(((e,l)=>{r((s=>{const n=s.find((l=>l.field===e));return n&&(n.width=l),[...s]}))}),[r]),c=(0,R.useRouter)(),u=(0,a.useMemo)((()=>null==s?void 0:s.edges.map((e=>{var l,s;return{id:e.node.id,name:e.node.name,items:null===(l=e.node.files)||void 0===l?void 0:l.length,lastModified:(0,E.WU)(new Date(e.node.updatedAt),"MMMM d, yyyy"),createdBy:null===(s=e.node.createdBy)||void 0===s?void 0:s.name,icon:e.node.isPrivate?(0,n.jsx)(P.u,{placement:"bottom",title:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Only people who are invited"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:"can view and edit this collection"})]}),children:(0,n.jsx)(U.dvY,{width:16})}):(0,n.jsx)(U.qZy,{width:16}),collection:e.node,onClick:async()=>c.push("/collection/".concat(e.node.id,"?from=index page")),key:e.node.id}}))),[s,c]);return(0,n.jsx)(Z.v,{columns:o,rows:u,renderRow:H,onColumnWidthChange:d,canLoadMore:l,isLoadingMore:i,onLoadMore:t})}function Y(){const{cancel:e,isLoaded:l}=(0,j.N)();(0,a.useEffect)((()=>{l&&e({taskId:N.Oc.COLLECTIONS_INDEX})}),[e,l]);const[s,t]=(0,v._)("collection-view","grid"),[r,d]=(0,a.useState)(!1),u=(0,a.useCallback)((()=>{(0,c.Z9i)(new c.RdL("button","create collection","index page")),d(!0)}),[]),x=(0,a.useCallback)((()=>{d(!1)}),[]),{activeWorkspaceId:m}=(0,y.cF)(),h=(0,C.k)(),{canLoadMore:f,isFetching:b,isLoadingMore:L,loadMore:k,workspaceCollections:E}=(0,y.ML)(null!=m?m:"",{first:25,orderBy:h},{requestPolicy:"cache-and-network"}),{isWorkspaceLoading:O}=(0,w.r)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M(),{children:(0,n.jsx)("title",{children:"Collections - LottieFiles Platform"})}),(0,n.jsx)(i.o,{headerWrapperCssClasses:"flex items-center px-6 flex-shrink-0 pt-3 pb-4",contentWrapperCssClasses:"flex-grow p-6 pt-0",headerControl:(0,n.jsx)(g,{viewLayout:s,setViewLayout:t,onCreateClick:u}),children:O||b||!E?(0,n.jsx)(o,{items:10,view:s}):(0,n.jsx)(n.Fragment,{children:"grid"===s?(0,n.jsx)(T,{collections:E,canLoadMore:f,isLoadingMore:L,onLoadMore:k}):(0,n.jsx)(J,{collections:E,canLoadMore:f,isLoadingMore:L,onLoadMore:k})})}),(0,n.jsx)(p.default,{show:r,close:x,workspaceId:m,source:"index page"})]})}}},function(e){e.O(0,[7962,2651,4153,7558,2888,9774,179],(function(){return l=114,e(e.s=l);var l}));var l=e.O();_N_E=l}]);