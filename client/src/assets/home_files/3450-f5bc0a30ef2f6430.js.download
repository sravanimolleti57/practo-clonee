"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3450],{98984:function(e,t,n){n.d(t,{r:function(){return c}});var a=n(97458),s=n(18119),l=n(83849),i=n.n(l),r=n(52983),o=n(68250);const c=e=>{let{disabled:t,label:n,loader:l=!1,onChange:c,size:d="sm",value:x=!1}=e;const[u,m]=(0,r.useState)(x);(0,r.useEffect)((()=>{x!==u&&m(x)}),[u,x]);const h=(0,r.useCallback)((e=>{t||(m(e),c(e))}),[t,c]),p=(0,r.useCallback)((e=>{t&&e.stopPropagation()}),[t]);return(0,a.jsxs)("div",{className:"relative flex items-center ",children:[(0,a.jsxs)(s.r.Group,{as:"div",className:i()(l?"opacity-30 pointer-events-none":"opacity-none","flex items-center"),children:[(0,a.jsx)(s.r,{as:t?"div":"button",checked:u,onChange:h,onClick:p,className:i()(u?"bg-actionPrimary":"bg-gray-300","relative inline-flex flex-shrink-0 border-2 border-transparent rounded-full transition-colors ease-in-out duration-200 focus:outline-none focus:ring-0 focus:ring-offset-0",{"h-3 w-5":"xs"===d,"h-4 w-7":"sm"===d,"h-5 w-9":"lg"===d,"opacity-30 cursor-not-allowed":t,"cursor-pointer":!t}),children:(0,a.jsx)("span",{"aria-hidden":"true",className:i()("pointer-events-none inline-block rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200",{"h-2 w-2":"xs"===d,"h-3 w-3":"sm"===d,"h-4 w-4":"lg"===d,"translate-x-2":"xs"===d&&u,"translate-x-3":"sm"===d&&u,"translate-x-4":"lg"===d&&u,"translate-x-0":!u})})}),n&&(0,a.jsx)(s.r.Label,{as:"span",className:"ml-3",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:n})})]}),l&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(o.a,{type:"spinner",size:"sm"===d?"3xs":"2xs"})})]})}},29827:function(e,t,n){n.d(t,{DT:function(){return p},J2:function(){return b},so:function(){return g},yk:function(){return f}});var a=n(97458),s=n(52983),l=n(13219),i=n(37210),r=n(83849),o=n.n(r),c=n(98532),d=(n(32474),n(44440)),x=n(12810),u=n(5540);const m=(0,i.F4)({"0%":{opacity:0,transform:"scale(0)"},"100%":{opacity:1,transform:"scale(1)"}}),h=(0,i.zo)(l.VY,{transformOrigin:"var(--radix-popover-content-transform-origin)",animation:"".concat(m," 0.2s ease-in"),zIndex:9}),p=e=>{let{children:t,justify:n="between",step:s,steps:l}=e;return(0,a.jsxs)(d.k,{align:"center",direction:"row",justify:n,className:"px-4 pb-4",children:[l&&l>0?(0,a.jsx)("div",{className:"text-xs text-gray-200",children:l>1&&(0,a.jsxs)("span",{children:[s," of ",l]})}):null,t]})},f=e=>{let{children:t}=e;return(0,a.jsx)(d.k,{className:"px-4 pb-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-200",children:t})})},g=e=>{let{children:t,onClose:n}=e;const l=s.useCallback((()=>{null==n||n()}),[n]);return(0,a.jsxs)(d.k,{justify:"between",align:"center",className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"text-base font-bold text-white",children:t}),n?(0,a.jsx)(c.h,{icon:"cross",sizeClass:"h-6 w-6",onClick:l,className:"text-white stroke-current",hoverBackgroundClass:"hover:bg-transparent",focusBackgroundClass:"focus:bg-transparent"}):(0,a.jsx)(a.Fragment,{})]})},b=e=>{let{anchor:t,anchorClassname:n,arrowOffset:i=0,arrowPadding:r=10,children:c,className:m,maxWidth:p="280px",onClick:f,onOpenChange:g,open:b,sideOffset:j=8,withSparkle:v=!1,...y}=e;const N=s.useCallback((()=>{null==f||f()}),[f]);return(0,a.jsxs)(l.fC,{open:b,onOpenChange:g,children:[(0,a.jsxs)(l.ee,{className:n,onClick:N,children:[b&&v?(0,a.jsx)("div",{className:o()("absolute top-1/2 left-1/2 z-10 text-gray-900 rounded-full -translate-x-1/2 -translate-y-1/2 pointer-events-none",m),children:(0,a.jsx)(x.J,{src:u.Yn,autoplay:!0,loop:!0,style:{width:"80px",height:"80px",aspectRatio:"1 / 1"}})}):null,t]}),(0,a.jsx)(l.h_,{children:(0,a.jsxs)(h,{onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:e=>e.preventDefault(),arrowPadding:r,...y,sideOffset:j,tabIndex:0,className:o()("relative z-10 flex-col h-full text-white bg-gray-900 rounded-lg border-0 select-none",m),style:{maxWidth:p},children:[(0,a.jsx)(l.Eh,{width:18,height:9,className:"visible text-gray-900 fill-current stroke-current",style:{marginRight:"".concat(i,"px")}}),(0,a.jsx)(d.k,{direction:"column",children:c})]})})]})}},43450:function(e,t,n){n.r(t),n.d(t,{StateMachinesInputPanelButtonField:function(){return _},StateMachinesPanel:function(){return V},StateMachinesPanelInputField:function(){return F},StateMachinesPanelInputSection:function(){return L},StateMachinesPanelInteractionSlot:function(){return E},StateMachinesPanelInteractionsSection:function(){return z},StateMachinesPanelNumericInputControl:function(){return I},StateMachinesPanelStatesSection:function(){return D},StateMachinesPanelSwitchField:function(){return M}});var a=n(97458),s=n(52983),l=n(95931),i=n(29602),r=n(98984),o=n(31401),c=n(83849),d=n.n(c),x=n(20734),u=n(18363),m=n(34651),h=n(75800),p=n(44277),f=n(84867),g=n(69826),b=n(86289),j=n(29827),v=n(82476);const y=e=>{let{anchor:t,children:n,className:s,defaultOpen:l}=e;return(0,a.jsxs)(v.fC,{openDelay:300,closeDelay:50,defaultOpen:l,children:[(0,a.jsx)(v.xz,{children:t}),(0,a.jsx)(v.h_,{children:(0,a.jsxs)(v.VY,{className:d()("relative rounded-lg flex-col max-w-[280px] h-full text-white bg-gray-900 z-10 border-0 select-none",s),style:{boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.16)"},children:[n,(0,a.jsx)(v.Eh,{width:16,height:8,className:"fill-gray-900"})]})})]})},N=e=>{let{children:t,className:n,ctaLabel:l="Learn more",onCtaClick:i,open:r=!0,textContent:o="Use Creator to set up interactive states for your animation. Easily add actions and connections to make it come to life.",title:c="Create state machine"}=e;const d=s.useCallback((()=>{null==i||i()}),[i]);return s.useEffect((()=>{r&&(0,g.Z9i)(new g.Z_Y({onboardingTaskId:f.Oc.CREATE_STATE_MACHINE,action:"view",label:"create state machine info popover",from:"create state machine info popover",step:"0"}))}),[r]),(0,a.jsxs)(y,{anchor:t,className:n,children:[(0,a.jsx)(j.so,{children:c}),(0,a.jsx)(j.yk,{children:o}),i&&(0,a.jsx)(j.DT,{justify:"end",children:(0,a.jsx)(b.z,{fontClasses:"font-bold",onClick:d,children:l})})]})};var w=n(98532);var C=n(37986);const k=e=>{const{animationId:t}=e,n=(0,s.useMemo)((()=>t?(0,m.V)({utmSource:"animation-state-machines-panel",feature:"state-machine",fileId:t}).href:""),[t]),l=(0,s.useCallback)((e=>{n&&((0,g.Z9i)(new g.E5o({action:"redirect_to_lottie_creator",target:"state machine panel empty state",description:"user clicks to redirect to lottie creator"})),window.open(n,"_blank"),e.preventDefault())}),[n]);return(0,a.jsxs)("div",{className:"flex flex-col justify-center p-3 my-2 bg-white border border-gray-100 rounded-lg bg-gradient-to-t from-foreground-2 to-foreground-2",children:[(0,a.jsx)("p",{className:"mb-3 text-sm text-gray-600",children:"This animation has no state machine yet. Link segments with State Machines to make your animation interactive."}),(0,a.jsx)("a",{className:"relative flex items-center justify-center px-3 py-1 text-sm text-gray-900 bg-white border border-gray-300 rounded-lg focus:outline-none disabled:opacity-30 disabled:cursor-not-allowed hover:border-gray-600 focus:border-gray-300 focus:ring-teal-300",href:n,target:"_blank",rel:"noreferrer",onClick:l,children:"Add states in Lottie Creator"})]})},S={PointerDown:"When mouse is clicked",PointerEnter:"When mouse hovers over the animation",PointerMove:"When mouse moves within animation",PointerExit:"When mouse moves out of the animation",PointerUp:"When mouse is released",OnComplete:"When animation finishes playing"},I=e=>{let{className:t,disabled:n,max:l=99999,maxDigits:i=4,min:r=0,name:o,onChange:c,placeholder:x,step:m=1,value:h}=e;const[p,f]=s.useState(!1),g=s.useRef(null),b=s.useMemo((()=>{const e=String(h);return e.length<=i?e:p?"".concat(e.slice(0,6),"..."):"...".concat(e.slice(-6))}),[h,p,i]),j=s.useCallback((e=>{const t=e.target.value;c(o,"number",""===t?0:Number.parseFloat(t))}),[o,c]),v=s.useCallback((()=>{if(g.current){const e=g.current.selectionStart,t=g.current.value.length;f(e!==t-1)}}),[]);return(0,a.jsx)("div",{className:d()("relative flex items-center overflow-hidden border justify-stretch rounded-s rounded-e border-subtle hover:border-mint-200 group",t),children:(0,a.jsx)(u.Z,{ref:g,type:"number",className:"w-full border-0 bg-[#001331] bg-opacity-[0.04] pl-[6px] pr-0 py-0 h-6 text-xs text-left -tracking-[0.24px] leading-6 focus:appearance-none focus:outline-none focus:border-subtle focus:shadow-none focus:ring-0",name:o,value:b,disabled:n,onChange:j,"aria-label":o,placeholder:x,onClick:v,onFocus:v,onKeyUp:v,min:r,max:l,step:m,inputMode:"decimal",pattern:"^\\d*\\.?\\d+$",style:{MozAppearance:"textfield",WebkitAppearance:"textfield"}})})},M=e=>{let{disabled:t,label:n,name:l,onChange:i,showLoader:o,toggleValue:c}=e;const d=s.useCallback((async e=>{i(l,"boolean",e)}),[l,i]);return(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full leading-6 trigger-item",id:"panel-field-".concat(l),children:[n?(0,a.jsx)("div",{className:"flex flex-col justify-center text-gray-900",children:(0,a.jsx)("span",{className:"inline-block text-sm",children:n})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)(r.r,{disabled:t,value:c,size:"lg",onChange:d,loader:o})})]})},F=e=>{let{disabled:t,isNumericText:n,label:l,name:i,onChange:r,placeholder:o="Enter value",value:c}=e;const d=s.useCallback((async e=>{const t=e.target.value;r(i,n?"number":"string",t)}),[i,r,n]);return(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full leading-6 trigger-item",id:"panel-field-".concat(i),children:[l?(0,a.jsx)("div",{className:"flex flex-col justify-center text-gray-900",children:(0,a.jsx)("label",{className:"inline-block text-sm",htmlFor:i,children:l})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:"ml-auto",children:n?(0,a.jsx)(I,{className:"w-[55px]",name:i,value:c,disabled:t,placeholder:o,onChange:r}):(0,a.jsx)(u.Z,{type:"text",className:"border-subtle bg-foreground-2 rounded rounded-s px-2 py-0 h-6 text-xs -tracking-[0.24px] leading-6 focus:appearance-none focus:outline-none focus:border-subtle focus:shadow-none focus:ring-0",name:i,value:c,disabled:t,onChange:d,"aria-label":i,placeholder:o})})]})},_=e=>{let{buttonLabel:t,label:n,name:l,onClick:i,value:r}=e;const o=s.useRef(null),c=s.useCallback((()=>{i(l),setTimeout((()=>{var e;null===(e=o.current)||void 0===e||e.blur()}),500)}),[i,l]);return(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full leading-6 trigger-item",id:"panel-buttonfield-".concat(l),children:[n?(0,a.jsx)("div",{className:"flex flex-col justify-center text-gray-900",children:(0,a.jsx)("label",{className:"inline-block text-sm",htmlFor:l,children:n})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:"ml-auto",children:t?(0,a.jsx)("button",{ref:o,type:"button",onClick:c,className:"border-subtle bg-foreground-2 rounded rounded-s px-2 py-0 h-6 text-xs -tracking-[0.24px] leading-6 focus:appearance-none focus:outline-none focus:border-subtle focus:shadow-none focus:ring-0 disabled:bg-none disabled:opacity-30 disabled:cursor-not-allowed",children:t}):(0,a.jsx)(w.h,{ref:o,name:"bolt",small:!0,backgroundClass:d()("bg-[#001331]",{"bg-opacity-[0.04]":!r,"bg-opacity-[0.12] !text-actionPrimaryHover":r}),hoverBackgroundClass:"hover:bg-opacity-[0.08] hover:!text-actionPrimary",focusBackgroundClass:"focus:!text-actionPrimaryHover focus:!bg-opacity-[0.12]",onClick:c})})]})},P=e=>{const{onSelect:t,options:n,value:r}=e,o=s.useMemo((()=>r&&""!==r?n.find((e=>e.value===r)):n[0]),[r,n]),c=1===n.length;return(0,a.jsx)("div",{className:"panel-field",children:(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)(l.f,{children:[(0,a.jsxs)(l.f.Trigger,{type:"select",className:d()("!rounded-lg h-8 outline-none"),disabled:c,children:[(0,a.jsx)("div",{className:"flex items-center flex-grow gap-1 text-sm",children:null==o?void 0:o.label}),(0,a.jsx)("div",{className:d()("flex items-center text-gray-700",{"opacity-100":!c,"opacity-30":c}),children:(0,a.jsx)(i.J,{name:"chevron-down",marginLeft:!0,small:!0})})]}),(0,a.jsx)(l.f.Content,{className:"w-[295px] space-y-1",side:"bottom",align:"start",children:n.map((e=>(0,a.jsx)(l.f.Item,{onSelect:()=>t(e.value),className:"!pl-1 group",children:(0,a.jsxs)("div",{className:"flex items-center justify-center w-full group",children:[(0,a.jsx)("div",{className:"w-3 h-3 mr-1",children:(0,a.jsx)(i.J,{name:"tick-bold",customSize:12,className:d()("text-gray-900",{invisible:(null==o?void 0:o.value)!==e.value})})}),(0,a.jsx)("div",{className:"flex items-center w-full text-sm",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("span",{className:"font-bold tracking-[-0.28px] mr-1",children:e.label})})})]})},e.label)))})]})})})},E=e=>{let{items:t,type:n}=e;const s=S[n];return(0,a.jsxs)("div",{className:"flex flex-col overflow-hidden border border-gray-100 rounded-lg",children:[(0,a.jsx)("div",{className:d()("flex w-full justify-center items-start h-[26px] bg-[#001331] bg-opacity-[0.04] border-b border-gray-100"),children:(0,a.jsx)(o.u,{placement:"bottom",title:s,triggerClassName:"cursor-default",children:(0,a.jsx)("span",{className:"text-xs font-bold leading-[18px]",children:n})})}),(0,a.jsx)("div",{className:"flex flex-col overflow-hidden divide-y divide-gray-100",children:t.map((e=>{const t=e.layerName,s=e.stateName,l=e.actions;return(0,a.jsxs)("div",{className:"flex flex-col p-[6px] gap-1",children:[t?(0,a.jsxs)("div",{className:"flex text-xs leading-[18px] text-gray-600",children:[(0,a.jsx)("span",{className:"font-bold basis-24",children:"Layer"}),(0,a.jsx)("span",{children:t})]}):(0,a.jsx)(a.Fragment,{}),s?(0,a.jsxs)("div",{className:"flex text-xs leading-[18px] text-gray-600",children:[(0,a.jsx)("span",{className:"font-bold basis-24",children:"State Name"}),(0,a.jsx)("span",{children:s})]}):(0,a.jsx)(a.Fragment,{}),l.map((e=>{const t=e.inputName||e.triggerName,n=e.type,s=e.url||e.value,l=(r=s,void 0===(i=t)?r:void 0!==r?"".concat(i," = ").concat(r):i);var i,r;return(0,a.jsx)("div",{className:"flex flex-col gap-1",children:(0,a.jsxs)("div",{className:"flex text-xs text-gray-600",children:[(0,a.jsx)("span",{className:"font-bold basis-24",children:n}),(0,a.jsx)("span",{children:l})]},"triggeraction-".concat(t))},"".concat(n,"--").concat(t))}))]},"".concat(n,"-").concat(e.layerName))}))})]})},z=e=>{let{interactions:t}=e;return!t||t.length<1?null:(0,a.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,a.jsx)("span",{className:"inline-block text-sm font-bold leading-[18px]",children:"Interactions"}),(0,a.jsx)("div",{className:"flex flex-col gap-[6px]",children:t.map(((e,t)=>{const n=e.type;return(0,a.jsx)(E,{type:e.type,items:e.interactions},"listenertype-".concat(n,"-").concat(t+1))}))})]})},D=e=>{let{interactedState:t,maxItemsToShow:n=3,states:l}=e;const[r,o]=s.useState(!!l&&(null==l?void 0:l.length)<=n),c=s.useCallback((()=>{o((e=>!e))}),[]);return l?(0,a.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,a.jsx)("span",{className:"inline-block text-sm font-bold leading-[18px]",children:"States"}),(0,a.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(r?l:l.slice(0,n)).map((e=>{const n=e.name,s=e.isInitial,l=e.isFinal;return(0,a.jsxs)("div",{className:"flex flex-col overflow-hidden rounded-lg",children:[(0,a.jsx)("div",{className:d()("flex w-full justify-center items-start p-1",{"bg-teal-200 bg-opacity-100":t&&t===n,"bg-[#001331] bg-opacity-[0.08]":!t||t!==n}),children:(0,a.jsx)("span",{className:"text-xs font-bold leading-[18px]",children:n})}),s&&(0,a.jsx)("div",{className:"flex w-full justify-center p-1 bg-[#001331] bg-opacity-[0.04]",children:(0,a.jsx)("span",{className:"text-xxs leading-[15px] text-green-400 uppercase",children:"Initial State"})}),l&&(0,a.jsx)("div",{className:"flex w-full justify-center p-1 bg-[#001331] bg-opacity-[0.04]",children:(0,a.jsx)("span",{className:"text-xxs leading-[15px] text-purple-400 uppercase",children:"Final State"})})]},"state-".concat(n))})),l.length>n&&(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("button",{type:"button",className:"flex gap-[2px] flex-1 justify-center items-center p-[2px] text-gray-500 hover:text-gray-400",onClick:c,children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-xxs leading-[15px]",children:"View less states"}),(0,a.jsx)(i.J,{name:"chevron-up",customSize:16,className:"-mt-[1px]"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-xxs leading-[15px]",children:"View all ".concat(l.length," states")}),(0,a.jsx)(i.J,{name:"chevron-down",customSize:16,className:"-mt-[2px]"})]})})})]})]}):null},L=e=>{let{inputs:t,onInputFire:n,onInputValueChange:l,onSwitchPanel:i,showDetails:r=!0,values:o}=e;const c=s.useCallback((()=>{null==i||i("interaction-details")}),[i]);return t.length<1?null:(0,a.jsxs)("section",{className:"flex flex-col min-h-0",children:[(0,a.jsx)("div",{className:d()("flex flex-col min-h-0 gap-2 py-2 border border-gray-100",{"rounded-t-lg":r,"rounded-lg":!r}),children:(0,a.jsx)(x.X,{orientation:"vertical",className:"px-3",children:(0,a.jsx)("div",{className:"flex flex-col gap-[6px] py-1 px-1",children:t.map((e=>{const t=e.name,s=e.type,i=o[t];switch(s){case"Numeric":return(0,a.jsx)(F,{isNumericText:!0,value:null!=i?i:0,name:t,label:t,placeholder:"Enter ".concat(t),onChange:l},"input-field-num-".concat(t));case"String":return(0,a.jsx)(F,{value:null!=i?i:"",name:t,label:t,placeholder:"Enter ".concat(t),onChange:l},"input-field-str-".concat(t));case"Boolean":return(0,a.jsx)(M,{toggleValue:Boolean(i),name:t,label:t,onChange:l},"input-field-switch-".concat(t));case"Event":return(0,a.jsx)(_,{name:t,label:t,onClick:n,value:Boolean(i)},"field-event-".concat(t));default:return(0,a.jsx)(a.Fragment,{})}}))})})}),r&&(0,a.jsx)("div",{className:"flex items-center justify-center border border-t-0 border-gray-100 rounded-b-lg",children:(0,a.jsx)("button",{type:"button",className:"flex-1 py-1 px-2 font-bold text-xs leading-[18px] bg-[#001331] bg-opacity-0 hover:bg-opacity-[0.04]",onClick:c,children:"View interaction details"})})]})},V=e=>{let{activeStates:t,inputValues:n,onInputFire:l,onInputValueChange:o,onIsStateMachinesModeActiveChange:c,onSelectStateMachine:u,selectedStateMachineId:f,showInfo:b=!0,stateMachines:j,withCreatorCta:v=!0,withGuide:y=!0,withInteractionDetails:S=!0}=e;const[I]=(0,h.useRecoilState)(p.sI),M=(0,C.f)(),[F,_]=s.useState("index"),E=((e,t)=>(0,s.useMemo)((()=>{const n=t.find((t=>"assetId"in t?t.id===e:t.name===e));return n?[...n.states].sort(((e,t)=>{const a=e.name,s=t.name;return a===n.initial?-1:s===n.initial?1:a.localeCompare(s)})).map((e=>({name:e.name,isFinal:e.final,isInitial:e.name===n.initial}))):[]}),[t,e]))(null!=f?f:"",j),V=(e=>(0,s.useMemo)((()=>e.map((e=>{const t="assetId"in e?e.id:e.name;var n;return{label:null!==(n=e.displayName)&&void 0!==n?n:t,value:t}}))),[e]))(j),O=((e,t)=>(0,s.useMemo)((()=>{var n,a;return null!==(a=null===(n=e.find((e=>e.id===t)))||void 0===n?void 0:n.interactions)&&void 0!==a?a:[]}),[e,t]))(j,f),T=(e=>(0,s.useMemo)((()=>{const t=new Map;for(const n of e){const e=n.type;t.has(e)||t.set(e,{type:n.type,interactions:[]}),t.get(e).interactions.push({...n.stateName?{stateName:n.stateName}:{},...n.layerName?{layerName:n.layerName}:{},actions:n.actions})}return Array.from(t.values())}),[e]))(O),A=((e,t)=>(0,s.useMemo)((()=>{var n,a;const s=e[0],l=void 0!==s&&"assetId"in s?s.id:null==s?void 0:s.name,i=t||l||"";var r;return null!==(r=null===(a=e.find((e=>"assetId"in e?e.id===i:e.name===i)))||void 0===a||null===(n=a.inputs)||void 0===n?void 0:n.filter((e=>!e.name.startsWith("___"))))&&void 0!==r?r:[]}),[e,t]))(j,f),W=s.useMemo((()=>{var e;return(0,m.V)({utmSource:"animation-state-machines-panel",feature:"state-machine",fileId:null!==(e=null==I?void 0:I.id)&&void 0!==e?e:""})}),[I]),B=s.useCallback((()=>{(null==I?void 0:I.id)&&((0,g.Z9i)(new g.E5o({action:"redirect_to_lottie_creator",target:"state machine panel creator redirect button",description:"user clicks to redirect to lottie creator"})),window.open(W,"_self"))}),[W,I]),J=s.useCallback((()=>{(0,g.Z9i)(new g.E5o({action:"how_to_open_modal",target:"state machine panel guide button",description:"user clicks to open guide"})),M()}),[M]),Z=s.useCallback((e=>{_(e)}),[]),R=s.useCallback((()=>{Z("index")}),[Z]),Y=s.useCallback((()=>{(0,g.Z9i)(new g.RdL("button","Learn more","create state machine info link popover")),window.open("https://lottiefiles.com/state-machines","_blank","noopener")}),[]);var H;return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("h3",{className:"flex items-center gap-1 pb-4 mt-6 ml-6 text-base font-bold text-gray-900",children:[(0,a.jsx)("span",{children:"State Machine"}),b&&(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(N,{onCtaClick:Y,children:(0,a.jsx)(i.J,{className:"ml-0.5 text-gray-500",name:"info",small:!0})})})]}),(0,a.jsxs)("div",{className:"flex flex-col flex-1 min-h-0 pb-6",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1 min-h-0 bg-white border-gray-100 gap-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between px-6 mb-1",children:[(0,a.jsx)("h4",{className:"inline-block text-sm font-semibold",children:"Enable"}),(0,a.jsx)(r.r,{disabled:!j.length,size:"lg",value:Boolean(j.length&&f),onChange:c})]}),"index"===F&&(0,a.jsxs)("div",{className:d()("-mt-2 flex flex-col h-full min-h-0 gap-2 px-6",{"pointer-events-none opacity-30":!f&&j.length>0}),children:[V.length>0?(0,a.jsx)(P,{options:V,value:f,onSelect:u}):(0,a.jsx)(k,{animationId:null!==(H=null==I?void 0:I.id)&&void 0!==H?H:""}),(0,a.jsx)(L,{inputs:A,values:n,onInputValueChange:o,onInputFire:l,onSwitchPanel:Z,showDetails:S})]}),"interaction-details"===F&&(0,a.jsx)(x.X,{orientation:"vertical",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6 px-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start gap-2 text-sm font-bold text-gray-900",children:[(0,a.jsx)(w.h,{name:"arrow-left",sizeClass:"w-6 h-6",className:"text-gray-900",onClick:R}),(0,a.jsx)("span",{className:"",children:"Interaction details"})]}),(0,a.jsx)(D,{states:E,interactedState:t.at(0)}),(0,a.jsx)(z,{interactions:T})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 px-6 pt-6",children:[y&&(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"button",className:"relative flex items-center justify-center w-full h-full px-3 py-2 bg-[#001331] bg-opacity-[0.04] rounded-lg cursor-pointer hover:bg-opacity-[0.08]",onClick:J,children:(0,a.jsxs)("div",{className:"flex items-center justify-center w-full gap-2",children:[(0,a.jsx)(i.J,{name:"embed",marginLeft:!0,small:!0}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:"Implementation guide"})]})})}),v&&j.length>0&&(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"button",className:"relative flex items-center justify-center w-full h-full px-3 py-2 border border-gray-200 rounded-lg cursor-pointer hover:border-gray-900",onClick:B,children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:"Edit in Lottie Creator"})})})})]})]})]})}}}]);